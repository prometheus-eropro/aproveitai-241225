<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>AproveitAI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #f5f7fa;
      color: #333;
    }
    header {
      background: #0a7f2e;
      color: #fff;
      padding: 20px;
      text-align: center;
    }
    section {
      max-width: 1100px;
      margin: auto;
      padding: 30px 20px;
    }
    h2 {
      color: #0a7f2e;
      text-align: center;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    .card {
      background: #fff;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      text-align: center;
    }
    footer {
      background: #0a7f2e;
      color: #fff;
      text-align: center;
      padding: 20px;
      margin-top: 40px;
    }
  </style>
</head>

<body>

<header>
  <h1>AproveitAI</h1>
  <p>Descontos reais em parceiros locais</p>
</header>

<section>
  <h2>Parceiros</h2>
  <div id="parceiros" class="grid"></div>
</section>

<section>
  <h2>Depoimentos</h2>
  <div id="depoimentos" class="grid"></div>
</section>

<footer>
  <p>&copy; AproveitAI</p>
</footer>

<script>
const API_BASE = "https://script.google.com/macros/s/AKfycbz3qpd3Bc0lDRPBc3L9bJhSB802ajtJt3KxAZNLuy49w5ajB3QTituDHirD5RwWyHJu/exec";
const TOKEN = "APROVEITAI2025";

// ------------------ PARCEIROS ------------------
fetch(`${API_BASE}?aba=parceiros&token=${TOKEN}`)
  .then(res => res.json())
  .then(dados => {
    const container = document.getElementById("parceiros");
    container.innerHTML = "";

    dados
      .filter(p => p.ativo === true || p.ativo === "TRUE")
      .forEach(p => {
        container.innerHTML += `
          <div class="card">
            <h3>${p.nome}</h3>
            <p>${p.ramo}</p>
            <p>${p.cidade}</p>
          </div>
        `;
      });
  })
  .catch(err => console.error("Erro parceiros:", err));

// ------------------ DEPOIMENTOS ------------------
fetch(`${API_BASE}?aba=depoimentos&token=${TOKEN}`)
  .then(res => res.json())
  .then(dados => {
    const container = document.getElementById("depoimentos");
    container.innerHTML = "";

    dados
      .filter(d => d.ativo === true || d.ativo === "TRUE")
      .forEach(d => {
        container.innerHTML += `
          <div class="card">
            <p>"${d.texto}"</p>
            <strong>${d.autor || ""}</strong>
          </div>
        `;
      });
  })
  .catch(err => console.error("Erro depoimentos:", err));
</script>

</body>
</html>
