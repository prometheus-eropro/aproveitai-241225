<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Área do Parceiro | Cartão AproveitAI</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
  background:#f5f6f7;
}

/* CABEÇALHO PADRÃO */
.topo{
  max-width:1200px;
  margin:20px auto 0;
  padding:18px 24px;
  background:#ffffff;
  border-radius:18px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  box-shadow:0 6px 16px rgba(0,0,0,.08);
}
.logo{height:140px;}
.titulo-topo{
  font-size:30px;
  font-weight:900;
  color:#0a7b34;
  text-align:center;
  flex:1;
}

/* CONTEÚDO */
.container{
  max-width:900px;
  margin:40px auto;
  padding:0 16px;
}
.card{
  background:#fff;
  border-radius:16px;
  box-shadow:0 6px 16px rgba(0,0,0,.08);
  padding:30px;
  text-align:center;
}
h1{color:#0a7b34;}
input{
  width:100%;
  padding:14px;
  margin-top:10px;
  border-radius:10px;
  border:1px solid #d1d5db;
}
button{
  margin-top:14px;
  width:100%;
  padding:14px;
  background:#0a7b34;
  color:#fff;
  border:none;
  border-radius:10px;
  font-size:16px;
}
.voltar{
  margin-top:20px;
  background:#0a7b34;
  color:#fff;
  padding:10px 20px;
  border-radius:10px;
  display:inline-block;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="topo">
  <img src="logo-prometheus.png" class="logo">
  <div class="titulo-topo">Cartão AproveitAI</div>
  <img src="logo-aproveitai.png" class="logo">
</div>

<div class="container">
  <div class="card">
    <h1 id="boasvindas">Bem-vindo, Parceiro</h1>

    <input id="cnpj" placeholder="CNPJ (somente números)">
    <input id="token" placeholder="Token">
    <button onclick="entrar()">Entrar</button>

    <div class="voltar" onclick="window.location.href='index.html'">
      ← Voltar ao site
    </div>
  </div>
</div>

<script>
const ENDPOINT="https://script.google.com/macros/s/AKfycbz3qpd3Bc0lDRPBc3L9bJhSB802ajtJt3KxAZNLuy49w5ajB3QTituDHirD5RwWyHJu/exec";

async function entrar(){
  const cnpj=document.getElementById("cnpj").value.replace(/\D/g,"");
  const token=document.getElementById("token").value.trim();
  if(!cnpj||!token){alert("Preencha os campos");return;}

  const res=await fetch(ENDPOINT+"?aba=parceiros");
  const dados=await res.json();

  const parceiro=dados.find(p=>p.cnpj===cnpj && p.token===token);
  if(!parceiro){alert("Acesso inválido");return;}

  document.getElementById("boasvindas").innerText =
    "Bem-vindo, " + parceiro.nome;
}
function gerarCodigoERO() {
  const agora = new Date();

  const ano = agora.getFullYear();
  const mes = String(agora.getMonth() + 1).padStart(2, '0');
  const dia = String(agora.getDate()).padStart(2, '0');
  const hora = String(agora.getHours()).padStart(2, '0');
  const min = String(agora.getMinutes()).padStart(2, '0');

  return `ERO-${ano}${mes}${dia}-${hora}${min}`;
}

</script>

</body>
</html>
